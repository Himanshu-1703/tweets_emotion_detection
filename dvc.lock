schema: '2.0'
stages:
  data_ingestion:
    cmd: python .\src\data\data_ingestion.py
    deps:
    - path: .\src\data\data_ingestion.py
      hash: md5
      md5: 7f891020f6b9b3e454b860ef993eef54
      size: 3889
    params:
      params.yaml:
        data_ingestion.random_state: 42
        data_ingestion.test_size: 0.2
    outs:
    - path: .\data\raw\
      hash: md5
      md5: ebc1ca208dae51606fe999d7d7933e77.dir
      size: 1368528
      nfiles: 2
  text_preprocessing:
    cmd: python .\src\features\text_preprocessing.py train.csv test.csv
    deps:
    - path: .\data\raw\
      hash: md5
      md5: ebc1ca208dae51606fe999d7d7933e77.dir
      size: 1368528
      nfiles: 2
    - path: .\src\features\text_preprocessing.py
      hash: md5
      md5: 0431f9b115c867ff6925cebf2ae503a8
      size: 4182
    outs:
    - path: .\data\interim\
      hash: md5
      md5: fe01fa9040c96b7a3f7ad2112d8351f1.dir
      size: 966144
      nfiles: 2
  feature_engineering:
    cmd: python .\src\features\feature_engineering.py train_processed.csv test_processed.csv
    deps:
    - path: .\data\interim\
      hash: md5
      md5: fe01fa9040c96b7a3f7ad2112d8351f1.dir
      size: 966144
      nfiles: 2
    - path: .\src\features\feature_engineering.py
      hash: md5
      md5: 30996ca10628a81e61295bcd4c0c544b
      size: 5006
    params:
      params.yaml:
        feature_engineering.max_features: 20000
    outs:
    - path: .\data\processed\
      hash: md5
      md5: e0b16d84180dd5dd6db90eecb75fdd7a.dir
      size: 1369442142
      nfiles: 2
    - path: .\models\transformers\
      hash: md5
      md5: 99187c3905826409b8fad8295b0b6c26.dir
      size: 744818
      nfiles: 2
  train:
    cmd: python .\src\modeling\train.py train_final.csv
    deps:
    - path: .\data\processed\train_final.csv
      hash: md5
      md5: 5f9d126ed347df90c338a3973c049351
      size: 1096589843
    - path: .\src\modeling\train.py
      hash: md5
      md5: 1c8f3353e0958c9fa939789e2c5351bc
      size: 3384
    params:
      params.yaml:
        train.random_forest:
          max_depth: 7
          n_estimators: 200
          n_jobs: -1
          random_state: 42
          oob_score: true
          verbose: 2
    outs:
    - path: .\models\classifiers\
      hash: md5
      md5: ec1666e173ced2e47c2d18f21a8bb7cf.dir
      size: 1385174
      nfiles: 1
    - path: .\reports\oob_score.json
      hash: md5
      md5: 02fa2462e6f1e39cfd585fd238770d89
      size: 41
  predict:
    cmd: python .\src\modeling\predict.py train_final.csv test_final.csv
    deps:
    - path: .\data\processed
      hash: md5
      md5: e0b16d84180dd5dd6db90eecb75fdd7a.dir
      size: 1369442142
      nfiles: 2
    - path: .\models\classifiers\
      hash: md5
      md5: ec1666e173ced2e47c2d18f21a8bb7cf.dir
      size: 1385174
      nfiles: 1
    - path: .\src\modeling\predict.py
      hash: md5
      md5: cc1ecd2851e59d53c29e3f06aa51b11f
      size: 3249
    outs:
    - path: .\reports\metrics.json
      hash: md5
      md5: 236d9f5d617c9a67b2f05b3889c2bbef
      size: 888
