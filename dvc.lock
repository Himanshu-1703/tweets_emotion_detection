schema: '2.0'
stages:
  data_ingestion:
    cmd: python .\src\data\data_ingestion.py
    deps:
    - path: .\src\data\data_ingestion.py
      hash: md5
      md5: e8ca98d3790f5b142ce168234a3eed69
      size: 3126
    params:
      params.yaml:
        data_ingestion.random_state: 42
        data_ingestion.test_size: 0.2
    outs:
    - path: .\data\raw\
      hash: md5
      md5: ef14710595d07ef6e1ac587c252dcaac.dir
      size: 3328220
      nfiles: 2
  text_preprocessing:
    cmd: python .\src\features\text_preprocessing.py train.csv test.csv
    deps:
    - path: .\data\raw\
      hash: md5
      md5: ef14710595d07ef6e1ac587c252dcaac.dir
      size: 3328220
      nfiles: 2
    - path: .\src\features\text_preprocessing.py
      hash: md5
      md5: 0431f9b115c867ff6925cebf2ae503a8
      size: 4182
    outs:
    - path: .\data\interim\
      hash: md5
      md5: 828ccc3b3e0aec76137402c2b65f250a.dir
      size: 2362414
      nfiles: 2
  feature_engineering:
    cmd: python .\src\features\feature_engineering.py train_processed.csv test_processed.csv
    deps:
    - path: .\data\interim\
      hash: md5
      md5: 828ccc3b3e0aec76137402c2b65f250a.dir
      size: 2362414
      nfiles: 2
    - path: .\src\features\feature_engineering.py
      hash: md5
      md5: 30996ca10628a81e61295bcd4c0c544b
      size: 5006
    params:
      params.yaml:
        feature_engineering.max_features: 5000
    outs:
    - path: .\data\processed\
      hash: md5
      md5: c7ce2f99e7f718c5842683e2a6c97744.dir
      size: 803977742
      nfiles: 2
    - path: .\models\transformers\
      hash: md5
      md5: 58cba0071d1db169736dab54878e0b71.dir
      size: 179872
      nfiles: 2
  train:
    cmd: python .\src\modeling\train.py train_final.csv
    deps:
    - path: .\data\processed\train_final.csv
      hash: md5
      md5: fa42c5ada232dd78915be45135b1d6d9
      size: 643163623
    - path: .\src\modeling\train.py
      hash: md5
      md5: 1c8f3353e0958c9fa939789e2c5351bc
      size: 3384
    params:
      params.yaml:
        train.random_forest:
          max_depth: 6
          n_estimators: 200
          max_samples: 0.8
          n_jobs: -1
          random_state: 42
          oob_score: true
          verbose: 2
    outs:
    - path: .\models\classifiers\
      hash: md5
      md5: 255c833e785d5cb02df837a6ae54a7b5.dir
      size: 5151350
      nfiles: 1
    - path: .\reports\oob_score.json
      hash: md5
      md5: 71d6b67526e032f685a42c1e6d5ed736
      size: 41
