schema: '2.0'
stages:
  data_ingestion:
    cmd: python .\src\data\data_ingestion.py
    deps:
    - path: .\src\data\data_ingestion.py
      hash: md5
      md5: e8ca98d3790f5b142ce168234a3eed69
      size: 3126
    params:
      params.yaml:
        data_ingestion.random_state: 42
        data_ingestion.test_size: 0.2
    outs:
    - path: .\data\raw\
      hash: md5
      md5: ef14710595d07ef6e1ac587c252dcaac.dir
      size: 3328220
      nfiles: 2
  text_preprocessing:
    cmd: python .\src\features\text_preprocessing.py train.csv test.csv
    deps:
    - path: .\data\raw\
      hash: md5
      md5: ef14710595d07ef6e1ac587c252dcaac.dir
      size: 3328220
      nfiles: 2
    - path: .\src\features\text_preprocessing.py
      hash: md5
      md5: 0431f9b115c867ff6925cebf2ae503a8
      size: 4182
    outs:
    - path: .\data\interim\
      hash: md5
      md5: 828ccc3b3e0aec76137402c2b65f250a.dir
      size: 2362414
      nfiles: 2
  feature_engineering:
    cmd: python .\src\features\feature_engineering.py train_processed.csv test_processed.csv
    deps:
    - path: .\data\interim\
      hash: md5
      md5: 828ccc3b3e0aec76137402c2b65f250a.dir
      size: 2362414
      nfiles: 2
    - path: .\src\features\feature_engineering.py
      hash: md5
      md5: 30996ca10628a81e61295bcd4c0c544b
      size: 5006
    params:
      params.yaml:
        feature_engineering.max_features: 500
    outs:
    - path: .\data\processed\
      hash: md5
      md5: 8f17afea39de39876caf2f5d6053bd1b.dir
      size: 82677442
      nfiles: 2
    - path: .\models\transformers\
      hash: md5
      md5: 78d009eef59b1e63f44dc98016dfda37.dir
      size: 18894
      nfiles: 2
  train:
    cmd: python .\src\modeling\train.py train_final.csv
    deps:
    - path: .\data\processed\train_final.csv
      hash: md5
      md5: 49e9b5f2b97847fdd08b9d07edbe57fd
      size: 66143346
    - path: .\src\modeling\train.py
      hash: md5
      md5: 1c8f3353e0958c9fa939789e2c5351bc
      size: 3384
    params:
      params.yaml:
        train.random_forest:
          max_depth: 6
          n_estimators: 100
          max_samples: 0.8
          n_jobs: -1
          random_state: 42
          oob_score: true
          verbose: 2
    outs:
    - path: .\models\classifiers\
      hash: md5
      md5: 840f40894467b2aa87b8e8863fbc48d0.dir
      size: 4386182
      nfiles: 1
    - path: .\reports\oob_score.json
      hash: md5
      md5: 4b299b1cc233a33c1e46bb11fd05064d
      size: 42
